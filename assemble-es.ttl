@prefix ja: <http://jena.hpl.hp.com/2005/11/Assembler#> .
@prefix es: <http://drugis.org/eventSourcing/es#> .
@prefix eg: <http://example.com/> .
@prefix tdb:     <http://jena.hpl.hp.com/2008/tdb#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix fuseki:  <http://jena.apache.org/fuseki#> .

[] ja:loadClass "com.hp.hpl.jena.tdb.TDB" .
tdb:DatasetTDB  rdfs:subClassOf  ja:RDFDataset .

es:EventSourcedDataset ja:assembler "DatasetAssemblerEventSourcing" ;
  rdfs:subClassOf ja:RDFDataset .

[] a fuseki:Server ;
   fuseki:services (
     <#service1>
   ) .
 
<#service1> a fuseki:Service ;
    fuseki:name                     "ds" ; 
    fuseki:serviceQuery             "sparql" ;
    fuseki:serviceQuery             "query" ;
    fuseki:serviceUpdate            "update" ;
    fuseki:serviceUpload            "upload" ;
    fuseki:serviceReadWriteGraphStore      "data" ;     
    fuseki:dataset           eg:dataset .

eg:source a tdb:DatasetTDB ;
  tdb:location "DB" .

eg:dataset a es:EventSourcedDataset ;
  es:source eg:source ;
  es:log es:log .
